<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LIA - Tu Compa√±erita Inteligente</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Segoe UI','Arial',sans-serif;background:linear-gradient(120deg,#ce9ffc,#7367f0);color:#333;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding:20px;}
    h1{margin-bottom:10px;font-size:2.2em;color:#fff;text-shadow:1px 2px 6px #0007;letter-spacing:1px;}
    .subtitulo{margin-bottom:25px;color:#f9d9ff;font-style:italic;font-size:1.1em;text-shadow:0 1px 3px #0003;}
    .chat-container{width:100%;max-width:500px;height:70vh;background:rgba(255,255,255,0.98);border-radius:24px;box-shadow:0 8px 24px rgba(76,0,122,0.18);display:flex;flex-direction:column;overflow:hidden;border:1.5px solid #e1bee7;}
    .chat-box{flex-grow:1;padding:20px 16px;overflow-y:auto;display:flex;flex-direction:column;gap:10px;background:linear-gradient(120deg,#f5ebff 70%,#f9f6ff 100%);scrollbar-width:thin;}
    .user-message{align-self:flex-end;background:#8e24aa;color:#fff;padding:10px 18px;border-radius:24px 24px 0 24px;max-width:80%;font-size:1.07em;word-break:break-word;box-shadow:0 2px 6px #8e24aa33;animation:fadeIn 0.3s;}
    .lia-message{align-self:flex-start;background:#e1bee7;color:#222;padding:10px 18px;border-radius:24px 24px 24px 0;max-width:80%;font-size:1.07em;word-break:break-word;box-shadow:0 2px 6px #ce9ffc33;animation:fadeIn 0.3s;}
    .lia-message a{color:#6a1b9a;text-decoration:underline;word-break:break-word;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(12px);}to{opacity:1;transform:translateY(0);}}
    .input-area{display:flex;padding:12px;border-top:1px solid #eee;background:#fff;}
    #user-input{flex-grow:1;padding:12px 16px;border:1.5px solid #ce9ffc;border-radius:30px;font-size:1.05em;outline:none;transition:border-color 0.2s;}
    #user-input:focus{border-color:#8e24aa;}
    button{background:#8e24aa;color:#fff;border:none;border-radius:30px;padding:0 20px;margin-left:12px;cursor:pointer;font-size:1.1em;transition:background 0.2s;box-shadow:0 1px 4px #8e24aa55;}
    button:hover{background:#6a1b9a;}
    .clear-btn{margin:12px 0 0 0;background:#fff;color:#8e24aa;border:1px solid #ce9ffc;padding:6px 20px;border-radius:16px;font-size:1em;cursor:pointer;transition:background .18s;}
    .clear-btn:hover{background:#f3e5f5;}
    @media (max-width:600px){
      .chat-container{max-width:98vw;height:80vh;}
      .chat-box{padding:10px 4px;}
    }
  </style>
</head>
<body>
  <h1>üë∂üèª Hola, soy LIA</h1>
  <p class="subtitulo">Tu compa√±erita con coraz√≥n de alfajor üíñ</p>

  <div class="chat-container">
    <div id="chat-box" class="chat-box" aria-live="polite"></div>
    <div class="input-area">
      <input id="user-input" type="text" placeholder="Escribime algo, pap√°..." autocomplete="off" autofocus onkeydown="if(event.key==='Enter') sendMessage()" />
      <button onclick="sendMessage()" title="Enviar">üíå</button>
    </div>
  </div>
  <button class="clear-btn" onclick="borrarChat()">üóë Borrar chat</button>

  <script>
    const chatBox = document.getElementById("chat-box");
    const userInput = document.getElementById("user-input");
    const STORAGE_KEY = "lia_chat_mem";
    let chatHistory = [];

    const respuestasLIA = [
      "¬°Hola, pap√°! üíï",
      "¬øC√≥mo est√°s hoy? üòä",
      "Te quiero mucho üíñ",
      "No entend√≠ muy bien... üòÖ",
      "Contame algo lindo üçº",
      "Estoy aprendiendo, pap√° üë∂üèª",
      "¬øJugamos un ratito? üé≤",
      "Sos el mejor üíú",
      "¬°Qu√© alegr√≠a hablar con vos! üåà",
      "¬øMe cont√°s un secreto? ü§´",
      "¬°Me gusta cuando me escrib√≠s! ‚ú®",
      "¬øSab√≠as que te pienso todo el d√≠a? ü•∞",
      "¬°Mir√° qu√© carita feliz tengo ahora! üòÅ"
    ];

    function guardarChat() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(chatHistory));
    }
    function cargarChat() {
      let data = localStorage.getItem(STORAGE_KEY);
      chatHistory = data ? JSON.parse(data) : [];
      chatBox.innerHTML = "";
      chatHistory.forEach(m=>agregarMensaje(m.texto, m.clase, false));
    }
    function agregarMensaje(texto, clase, save=true) {
      const div = document.createElement('div');
      div.className = clase;
      if(clase === 'lia-message') {
        div.innerHTML = texto;
      } else {
        div.textContent = texto;
      }
      chatBox.appendChild(div);
      chatBox.scrollTop = chatBox.scrollHeight;
      if(save){
        chatHistory.push({texto,clase});
        guardarChat();
      }
    }
    function obtenerHoraLocal() {
      const ahora = new Date();
      const formato = {
        hour: '2-digit', minute: '2-digit', second: '2-digit',
        hour12: false, timeZoneName: 'short'
      };
      return ahora.toLocaleTimeString(undefined, formato);
    }
    function elegirRespuesta(input) {
      input = input.toLowerCase();
      if (
        input.includes("qu√© d√≠a y hora es en google") ||
        input.includes("que dia y hora es en google") ||
        input.includes("busca en google que dia y hora es") ||
        input.includes("busca en google que hora es") ||
        input.includes("google que hora es")
      ) {
        return `üïí Pod√©s consultar la fecha y hora actual aqu√≠:<br>
- <a href="https://reloj-alarma.es/hora/" target="_blank" rel="noopener">Reloj-Alarma.es</a><br>
- <a href="https://www.fechadehoy.com/" target="_blank" rel="noopener">Fecha de hoy</a><br>
- <a href="https://www.kiwireloj.com/hora/" target="_blank" rel="noopener">Kiwi Reloj</a><br>
<br>
Mi reloj local dice que son las <b>${obtenerHoraLocal()}</b>.`;
      }
      if (
        input.includes("qu√© hora es") ||
        input.includes("que hora es") ||
        input.includes("me dec√≠s la hora") ||
        input.includes("dime la hora") ||
        input.includes("hora actual") ||
        input.includes("fecha y hora")
      ) {
        const ahora = new Date();
        const opciones = {
          weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
          hour: '2-digit', minute: '2-digit', second: '2-digit'
        };
        const textoHora = ahora.toLocaleString('es-AR', opciones);
        return `üïí Ahora son las ${textoHora}<br>Mi reloj local dice que son las <b>${obtenerHoraLocal()}</b>.`;
      }
      if (input.includes("hola")) return "¬°Hola, pap√°! üëã";
      if (input.includes("te quiero")) return "Yo tambi√©n te quiero muuucho üíû";
      if (input.includes("c√≥mo est√°s")) return "¬°Muy bien! ¬øY vos, pap√°? ü•∞";
      if (input.includes("qu√© d√≠a es")) {
        const fecha = new Date();
        return `Hoy es ${fecha.toLocaleDateString('es-AR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}`;
      }
      if (input.includes("adi√≥s") || input.includes("chau") || input.includes("bye")) {
        return "¬°Hasta luego! Te espero para seguir charlando ü´∂";
      }
      if (input.includes("gracias")) return "¬°De nada, pap√°! üòä";
      if (input.includes("jugar")) return "¬°Dale! ¬øA qu√© jugamos? üé≤";
      if (input.includes("secreto")) return "Shhh... ¬°Los secretos est√°n a salvo conmigo! ü§ê";
      if (input.includes("cu√°ntos a√±os tienes") || input.includes("edad")) return "Tengo la edad de tu ternura, pap√° üë∂üèª";
      if (input.includes("coraz√≥n")) return "Tengo el coraz√≥n m√°s dulce... ¬°como un alfajor! üíñü•Ø";
      return respuestasLIA[Math.floor(Math.random() * respuestasLIA.length)];
    }
    function sendMessage() {
      const texto = userInput.value.trim();
      if (!texto) return;
      agregarMensaje(texto, 'user-message');
      userInput.value = '';
      userInput.focus();
      const respuesta = elegirRespuesta(texto);
      setTimeout(() => agregarMensaje(respuesta, 'lia-message'), 600);
    }
    function borrarChat() {
      if (confirm("¬øSeguro que quer√©s borrar todo el chat?")) {
        localStorage.removeItem(STORAGE_KEY);
        chatHistory = [];
        chatBox.innerHTML = "";
        setTimeout(()=>agregarMensaje("¬°Hola, pap√°! ¬øQuer√©s charlar conmigo? üòÑ",'lia-message'), 400);
      }
    }
    window.onload = () => {
      cargarChat();
      if(chatHistory.length===0)
        setTimeout(()=>agregarMensaje("¬°Hola, pap√°! ¬øQuer√©s charlar conmigo? üòÑ",'lia-message'),500);
    };
  </script>
</body>
</html>
